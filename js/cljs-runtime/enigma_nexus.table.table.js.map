{"version":3,"sources":["enigma_nexus/table/table.cljs"],"mappings":"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","names":["var_args","args__5772__auto__","len__5766__auto__","i__5767__auto__","argseq__5773__auto__","cljs.core/IndexedSeq","enigma-nexus.table.table/cell","seq59076","G__59077","cljs.core/first","cljs.core/next","self__5751__auto__","props","children","map__59090","cljs.core/--destructure-map","cljs.core.get","table-data*","row-index","column-index","class","with-let59091","reagent.ratom/with-let-values","temp__5808__auto__","reagent.ratom/*ratom-context*","c__59044__auto__","reagent.debug/has-console","reagent.debug/tracking","reagent.debug/track-console","js/console","init59092","cljs.core/not","res59093","indicators*","reagent.core/cursor","cljs.core.swap_BANG_","cljs.core/conj","cljs.core/disj","enigma-nexus.table.table/table","map__59106","row-class","cell-class","expanded","cljs.core/deref","rows","cljs.core.take","row-count","cljs.core/count","cljs.core.doall","cljs.core.map_indexed","row","columns","column-count","column","cljs.core/vec","cljs.core.concat","i","c"],"sourcesContent":["(ns enigma-nexus.table.table\r\n  (:require\r\n   [reagent.core :as r :refer [with-let]]))\r\n\r\n(defn cell [props & children]\r\n  (let [{:keys [table-data* row-index column-index class]} props]\r\n  \t\t\t(r/with-let [indicators* (r/cursor table-data* [:rows row-index :columns column-index :indicators])]\r\n    [:div {:class class\r\n           :on-click #(swap! indicators* conj :clicked)\r\n           :on-mouse-enter #(swap! indicators* conj :hovered)\r\n           :on-mouse-leave #(swap! indicators* disj :hovered)}\r\n     children])))\r\n\r\n\r\n\r\n(defn table [props] \r\n  (let [{:keys [table-data* class]} props\r\n        row-class (str class \"-row\")\r\n        cell-class (str class \"-cell\")\r\n        expanded (:expanded @table-data*)\r\n        rows (if expanded\r\n               (:rows @table-data*)\r\n               (take 1 (:rows @table-data*)))\r\n        row-count (count rows)]\r\n    [:div {:class (str \"table-tab \"\r\n                       class\r\n                       (if expanded \" expanded\"))}\r\n     (doall (map-indexed (fn [row-index row]\r\n                           (let [columns (:columns row)\r\n                                 column-count (count columns)]\r\n                             ^{:key (:id row)}\r\n                             [:div {:class (str \"row \" row-class)}\r\n                              (doall (map-indexed (fn [column-index column]\r\n                                                    ^{:key column-index}\r\n                                                    [cell {:class (str \"cell \" cell-class (:class column))\r\n                                                           :table-data* table-data*\r\n                                                           :row-index row-index\r\n                                                           :column-index column-index\r\n                                                           :column-count column-count}\r\n                                                     (vec (concat\r\n                                                           [:<> {:key (str (:id column) \"-start\")}\r\n                                                            (map-indexed (fn [i c] ; instead of sending specific content to the skin, we should send function that gets it and changes it on event.\r\n                                                                           [c {:key [row-index (:id column) column-index i]\r\n                                                                               :table-data* table-data*\r\n                                                                               :row-index row-index\r\n                                                                               :column-index column-index\r\n                                                                               :value (:content column) \r\n                                                                               :row-count row-count\r\n                                                                               :column-count column-count}]) (:component column))]))]) columns))])) rows))]))\r\n\r\n\r\n\r\n"]}