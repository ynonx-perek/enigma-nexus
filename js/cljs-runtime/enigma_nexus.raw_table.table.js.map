{"version":3,"sources":["enigma_nexus/raw_table/table.cljs"],"mappings":"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","names":["var_args","args__5772__auto__","len__5766__auto__","i__5767__auto__","argseq__5773__auto__","cljs.core/IndexedSeq","enigma-nexus.raw-table.table/cell","seq61216","G__61217","cljs.core/first","cljs.core/next","self__5751__auto__","props","children","map__61219","cljs.core/--destructure-map","cljs.core.get","data*","row-index","column-index","class","with-let61220","reagent.ratom/with-let-values","temp__5808__auto__","reagent.ratom/*ratom-context*","c__59154__auto__","reagent.debug/has-console","reagent.debug/tracking","reagent.debug/track-console","js/console","init61221","cljs.core/not","res61222","indicators*","reagent.core/cursor","cljs.core.swap_BANG_","cljs.core/conj","cljs.core/disj","enigma-nexus.raw-table.table/table","map__61226","expanded","cljs.core/deref","rows","cljs.core.take","row-count","cljs.core/count","cljs.core.doall","cljs.core.map_indexed","row","columns","column-count","column","cljs.core/vec","cljs.core.concat","i","c"],"sourcesContent":["(ns enigma-nexus.raw-table.table\r\n  (:require\r\n   [reagent.core :as r :refer [with-let]]))\r\n\r\n(defn cell [props & children]\r\n  (let [{:keys [data* row-index column-index class]} props]\r\n  \t\t\t(r/with-let [indicators* (r/cursor data* [:data row-index :data column-index :indicators])]\r\n    [:div {:class class\r\n           :on-click #(swap! indicators* conj :clicked)\r\n           :on-mouse-enter #(swap! indicators* conj :hovered)\r\n           :on-mouse-leave #(swap! indicators* disj :hovered)}\r\n     children])))\r\n\r\n\r\n\r\n(defn table [props] \r\n  (let [{:keys [data* class]} props\r\n         expanded (:expanded @data*)\r\n         rows (if expanded (:data @data*) (take 1 (:data @data*)))\r\n         row-count (count rows)]\r\n    [:div {:class (str \"table-tab \" class (if expanded \" expanded\"))}\r\n     (doall (map-indexed (fn [row-index row]\r\n                           (let [columns (:data row)\r\n                                 column-count (count columns)]\r\n                             ^{:key row-index}\r\n                             [:div {:class (str \"row \" class \"-row\")}\r\n                              (doall (map-indexed (fn [column-index column]\r\n                                                    ^{:key column-index}\r\n                                                    [cell {:class (str \"cell \" class \"-cell\" (:class column))\r\n                                                           :data* data*\r\n                                                           :row-index row-index\r\n                                                           :column-index column-index\r\n                                                           :column-count column-count}\r\n                                                     (vec (concat\r\n                                                           [:<> {:key (str (:id column) \"-start\")}\r\n                                                            (map-indexed (fn [i c] ; instead of sending specific content to the skin, we should send function that gets it and changes it on event.\r\n                                                                           [c {:key i\r\n                                                                               :data* data*\r\n                                                                               :row-index row-index\r\n                                                                               :column-index column-index\r\n                                                                               :value (:data column) \r\n                                                                               :row-count row-count\r\n                                                                               :column-count column-count}]) (:component column))]))]) columns))])) rows))]))\r\n\r\n\r\n\r\n"]}