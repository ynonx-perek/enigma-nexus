{"version":3,"sources":["enigma_nexus/tree/skins.cljs"],"mappings":";AAYA,oCAAA,pCAAMA,gFAAWC;AAAjB,AACE,IAAAC,aAAsBD;IAAtBC,iBAAA,AAAAC,4BAAAD;YAAA,AAAAE,4CAAAF,eAAA,nEAAcG;AAAd,AACEA;;AAEJ,0CAAA,1CAAMC,4FAAiBL;AAAvB,AACE,IAAAM,aAA4BN;IAA5BM,iBAAA,AAAAJ,4BAAAI;iBAAA,AAAAH,4CAAAG,eAAA,xEAAcC;YAAd,AAAAJ,4CAAAG,eAAA,nEAAoBF;AAApB,AAAA,0FAAA,sDAAA,2CAAA,qDAAA,sDAAA,wDAAA,kBAAA,+DAGsB,WAAKI;AAAL,AACE,IAAMC,UAAQ,AAAA,AAAID;AAAlB,AACE,wFAAA,mFAAA,pKAACE,mDAAMH,WAAMI,oKAAmBF;GAL1D,sDAMkBL;;AAEpB,0CAAA,1CAAMQ,4FAAiBZ;AAAvB,AACE,IAAAa,aAA4Bb;IAA5Ba,iBAAA,AAAAX,4BAAAW;uBAAA,AAAAV,4CAAAU,eAAA,9EAAcC;AAAd,AAAA,0FAAA,mDAAA,2CAAA,wDAAA,uBAAA,6DAGc;AAAA,AACE,OAACJ,mDAAMI,iBAAY,WAAKC;AAAL,AACE,oBAAI,AAAA,yFAAWA;AACb,+DAAA,xDAACC,6CAAKD;;AACN,+DAAA,xDAACE,6CAAKF;;;WAC1C,+IAAA,8HAAA,3PAAI,AAAA,yFAAA,AAAAG,gBAAYJ,uGACbK,8HACAC;;AAER,wCAAA,xCAAMC,wFAAerB;AAArB,AACE,IAAAsB,aAAsBtB;IAAtBsB,iBAAA,AAAApB,4BAAAoB;iBAAA,AAAAnB,4CAAAmB,eAAA,xEAAcf;AAAd,AACE,IAAAgB,gBAAA,AAAAC,8BAAA;AAAA,AAAA,IAAAC,2BAAAC;AAAA,AAAA,GAAA,CAAAD,4BAAA;AAAA;AAAA,IAAAE,yBAAAF;AAAA,AAAA,GAAA,CAAA,AAAAF,6BAAA,AAAAI;AAAA,AAAA,GAAAC;AAAA,AAAA,AAAA,EAAAC,wBAAAC,4BAAAC,eAAA,CAAA,iDAAA;;AAAA;;AAAA;;AAAA,CAAA,AAAAR,2BAAA,AAAAI;;;AAAA,IAAAK,YAAA,CAAA,AAAAT,yBAAA;uBAAA,EAAA,EAAAS,eAAA,AAAAC,cAAA,AAAAV,6BAAA,SAAA,CAAAA,cAAA,yLAAA,CAAAA,cAAA,jTAAaY,gHAAY,+BAAA,mFAAA,lHAACC,oBAAS7B;IAAnC2B,WAAA,AAAA,kHAAA,2CAAA,oFAAA,wDAAA,tNACGG,6IAAoBF;AADvB,AAAAD;;AAGJ,wCAAA,xCAAMI;AAAN,AAAA","names":["enigma-nexus.tree.skins/text-cell","props","map__59735","cljs.core/--destructure-map","cljs.core.get","value","enigma-nexus.tree.skins/cell-text-input","map__59740","tree*","e","newtext","cljs.core.swap_BANG_","cljs.core/assoc-in","enigma-nexus.tree.skins/expand-collapse","map__59747","indicators*","indicators","cljs.core.disj","cljs.core.conj","cljs.core/deref","enigma-nexus.tree.icons/arrow-down","enigma-nexus.tree.icons/arrow-right","enigma-nexus.tree.skins/table-in-tree","map__59750","with-let59751","reagent.ratom/with-let-values","temp__5808__auto__","reagent.ratom/*ratom-context*","c__59044__auto__","reagent.debug/has-console","reagent.debug/tracking","reagent.debug/track-console","js/console","init59752","cljs.core/not","res59753","table-data*","reagent.core/cursor","enigma-nexus.table.table/table","enigma-nexus.tree.skins/document-leaf"],"sourcesContent":["(ns enigma-nexus.tree.skins\r\n  (:require\r\n   [reagent.core :as r :refer [with-let]]\r\n   [enigma-nexus.table.skins :as skin]\r\n   [enigma-nexus.tree.icons :as tree-icon]\r\n   [enigma-nexus.table.table :refer [table]]))\r\n\r\n;; tree/skins\r\n;; used inside table cells\r\n;; props are always:\r\n;; tree-data* value\r\n\r\n(defn text-cell [props]\r\n  (let [{:keys [value]} props]\r\n    value))\r\n\r\n(defn cell-text-input [props]\r\n  (let [{:keys [tree* value]} props]\r\n    [:input {:type :text\r\n             :class \"cell-text-input\"\r\n             :on-change (fn [e]\r\n                          (let [newtext (.. e -target -value)]\r\n                            (swap! tree* assoc-in [:value]  newtext)))\r\n             :value value}]))\r\n\r\n(defn expand-collapse [props]\r\n  (let [{:keys [indicators*]} props]\r\n    [:div\r\n     {:class \"tree-expand-collapse\"\r\n      :on-click (fn []\r\n                  (swap! indicators* (fn [indicators]\r\n                                       (if (:expanded indicators)\r\n                                         (disj indicators :expanded)\r\n                                         (conj indicators :expanded)))))}\r\n     (if (:expanded @indicators*)\r\n       [tree-icon/arrow-down]\r\n       [tree-icon/arrow-right])]))\r\n\r\n(defn table-in-tree [props]\r\n  (let [{:keys [tree*]} props]\r\n    (r/with-let [table-data* (r/cursor tree* [:value])]\r\n      [table {:table-data* table-data* :class \"main-table\"}])))\r\n\r\n(defn document-leaf [] true)"]}